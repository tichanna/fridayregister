<!DOCTYPE html>
<html>
<head>
  <title>Friday Research Booking</title>
  <style>
    body { font-family: Arial; max-width: 500px; margin: 30px auto; }
    label, input, select { display: block; width: 100%; margin-bottom: 12px; padding: 8px; }
    button { padding: 10px; width: 100%; background: #007bff; color: white; border: none; cursor: pointer; }
    #message { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Book a Friday Research Slot</h2>

  <label for="name">Name:</label>
  <input type="text" id="name" required>

  <label for="surname">Surname:</label>
  <input type="text" id="surname" required>

  <label for="topic">Research Topic:</label>
  <input type="text" id="topic" required>

  <label for="supervisor">Supervisor:</label>
  <input type="text" id="supervisor" required>

  <label for="date">Select a Friday (Aug–Oct):</label>
  <select id="date" required>
    <option value="">-- Select a Friday --</option>
    <option value="2025-08-01">01 Aug 2025</option>
    <option value="2025-08-08">08 Aug 2025</option>
    <option value="2025-08-15">15 Aug 2025</option>
    <option value="2025-08-22">22 Aug 2025</option>
    <option value="2025-08-29">29 Aug 2025</option>
    <option value="2025-09-05">05 Sep 2025</option>
    <option value="2025-09-12">12 Sep 2025</option>
    <option value="2025-09-19">19 Sep 2025</option>
    <option value="2025-09-26">26 Sep 2025</option>
    <option value="2025-10-03">03 Oct 2025</option>
    <option value="2025-10-10">10 Oct 2025</option>
    <option value="2025-10-17">17 Oct 2025</option>
  </select>

  <button onclick="submitForm()">Submit</button>

  <div id="message"></div>

  <script>
    const endpoint = "https://script.google.com/macros/s/AKfycbwi_1-d87mULSpbc5ehg93rOTcJOHJldXMEN3i5YpkpFbG29AEItdD_seTO_gItgkgZ/exec";

    async function submitForm() {
      const name = document.getElementById('name').value.trim();
      const surname = document.getElementById('surname').value.trim();
      const topic = document.getElementById('topic').value.trim();
      const supervisor = document.getElementById('supervisor').value.trim();
      const date = document.getElementById('date').value;

      if (!name || !surname || !topic || !supervisor || !date) {
        document.getElementById('message').textContent = "❌ Please fill in all fields.";
        return;
      }

      const formData = new URLSearchParams({ name, surname, topic, supervisor, date });

      try {
        const response = await fetch(endpoint, {
          method: "POST",
          body: formData
        });

        const result = await response.json();
        document.getElementById('message').textContent = result.success
          ? "✅ " + result.message
          : "❌ " + result.message;

        if (result.success) {
          // Clear inputs
          document.getElementById('name').value = '';
          document.getElementById('surname').value = '';
          document.getElementById('topic').value = '';
          document.getElementById('supervisor').value = '';
          document.getElementById('date').value = '';
        }
      } catch (error) {
        document.getElementById('message').textContent = "❌ Error submitting form.";
      }
    }
  </script>
</body>
</html>
